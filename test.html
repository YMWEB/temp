<style xml="space"><!--
.page-wrapper .page-header{
	height:0;
	padding:0;
}
.page-header h5{
	margin:0;
display:none;
}
a#back{
	display:none;
}
.header.content{
	width:0!important;
	position:relative;
	width:auto!important;
	height:0;
}
.header .minicart-wrapper{
	position: absolute;
}
.minicart-wrapper .action.showcart:before {
    -webkit-font-smoothing: antialiased;
    font-size: 22px;
    line-height: 28px;
    color: #fff;
    content: '\e611';
    font-family: 'luma-icons';
    margin: 0;
    vertical-align: top;
    display: inline-block;
    font-weight: normal;
    overflow: hidden;
    speak: none;
    text-align: center;
    margin-right: 5px;
}

.minicart-wrapper .action.showcart:hover:before {
    color: #fff;
}

.minicart-wrapper .action.showcart:active:before {
    color: #fff;
}

.minicart-wrapper .action.showcart.active {
    display: inline-block;
    text-decoration: none
}

.minicart-wrapper .action.showcart.active:before {
    -webkit-font-smoothing: antialiased;
    font-size: 22px;
    line-height: 28px;
    color: #fff;
    content: '\e611';
    font-family: 'luma-icons';
    margin: 0;
    vertical-align: top;
    display: inline-block;
    font-weight: normal;
    overflow: hidden;
    speak: none;
    text-align: center
}

.minicart-wrapper .action.showcart.active:hover:before {
    color: #fff;
}

.minicart-wrapper .action.showcart.active:active:before {
    color: #fff;
}
.displaynone{
	display:none;
}
.displayflex{
	display:flex;
}
#maincontent{margin:0 auto;padding:0}
div.nav{display:flex;justify-content:center;margin:0;padding:0;width:100%; margin-bottom:1rem;}
div.nav div{ border:0; margin-bottom:0;}
article img{width:100%;} 
div img{width:100%}
div.nav .left{
margin-right:10px;
}
div.footer a{display:flex;justify-content:center;width:100%;}
div.footer img{flex-grow: 0;
    height: auto;
    width: auto;
    max-width: 40%;}

.welcome{
	position:relative;
	width:65%;
	float:right;
}
@keyframes fade-in{
	0% {opacity: 0;}
    50% {opacity: 0.5;}  
    100% {opacity: 1;}
}
@-webkit-keyframes fade-in{
	0% {opacity: 0;}
    50% {opacity: 0.5;}  
    100% {opacity: 1;}
}

.hasPop{
	overflow:hidden;
	height:100%;
}

.fadein{
	animation: fade-in 0.5s;
	-webkit-animation:fade-in 0.5s;
}
#detail{
	display:none;
}
--></style>
<div class="home" style="background: transparent; width: 100%; height: 100%;">

<div class="screen screenone banner">
<div><img class="bannerimg" src="{{media url="wysiwyg/Home/P1_banner.jpg"}}" alt="" /></div>
<div class="welcome" style="display: none;"><img src="{{media url="wysiwyg/Home/P1_welcome.gif"}}" alt="" /></div>
<div style="display: none;"><img id="snow" style="display: none;" src="{{media url="wysiwyg/Home/s1.png"}}" alt="" /></div>
</div>
<div style="width: 60%;"><img src="{{media url="wysiwyg/Home/P1_theme_top.gif"}}" alt="" /></div>
<div class="screen screentwo">
<div id="catelog" class="nav">
<div class="left">
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/christmas.html"><img src="{{media url="wysiwyg/Home/P1_THEME1.jpg"}}" alt="" /></a></div>
</div>
<div>
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/classical.html"><img src="{{media url="wysiwyg/Home/P1_theme2_1.jpg"}}" alt="" /></a></div>
</div>
</div>
<div class="nav">
<div class="left">
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/juliusandfriends.html"><img src="{{media url="wysiwyg/Home/P1_theme3_1.jpg"}}" alt="" /></a></div>
</div>
<div>
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/slogan.html"><img src="{{media url="wysiwyg/Home/P1_theme4_1.jpg"}}" alt="" /></a></div>
</div>
</div>
<div class="nav">
<div class="left">
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/gold.html"><img src="{{media url="wysiwyg/Home/P1_theme5_1.jpg"}}" alt="" /></a></div>
</div>
<div>
<div class="navimg"><a class="alink" href="{{config path="web/unsecure/base_url"}}wechat/design/silver.html"><img src="{{media url="wysiwyg/Home/P1_theme6_1.jpg"}}" alt="" /></a></div>
</div>
</div>
</div>
<hr />
<div id="godetail"><img style="margin: 0 auto; display: block; width: 60%;" src="{{media url="wysiwyg/Home/P1_VIEW_1.png"}}" alt="" /></div>
<article id="detail">
<div><a href="{{config path="web/unsecure/base_url"}}wechat/design/christmas.html"><img class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_option_Christmas.jpg"}}" /></a></div>
<div><a href="{{config path="web/unsecure/base_url"}}wechat/design/classical.html"><img class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_option_classical_1.jpg"}}" /></a></div>
<div><a href="{{config path="web/unsecure/base_url"}}wechat/design/slogan.html"><img class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_option_slogan_1.jpg"}}" /></a></div>
<div><img id="goldsilver" class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_option_gold_silver_1.jpg"}}" /></div>
<div><a href="{{config path="web/unsecure/base_url"}}wechat/design/juliusandfriends.html"><img class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_option_friends.jpg"}}" /></a></div>
<div class="footer"><a style="height: 150px;" href="#catelog"><img class="detail" alt="" data-ori="{{media url="wysiwyg/Home/P1_backTop.gif"}}" /></a></div>
</article></div>
<p>
<script type="text/javascript" xml="space">// <![CDATA[
requirejs(['jquery','jquery/jquery.mobile.custom'],function($){
var LazyLoad = function(elements){
			this.elements = elements;
			this.loadEle =function(ele){
				var srcURL = ele.getAttribute('data-ori');
				 ele.src = srcURL;
			}
		};
	LazyLoad.prototype.load = function(){
		var that = this;
		var _viewportHeight=window.innerHeight,_pageYOffset;
		function setViewHeight(){
			_viewportHeight = window.innerHeight
		}
		function setPageYOffset(){
			_pageYOffset = window.pageYOffset
		}
		function  checkIfInView(ele){
			var x = ele.getBoundingClientRect().top;
			if(x){
				if(x>0&&x<=_viewportHeight){
					return true
				}
				return false;
			}else{
				var top = ele.offsetTop;
				var parent = ele.offsetParent;
				while(parent){
					top += parent.offsetParent||0;
					parent = parent.offsetParent;
				}
				if(top>_pageYOffset&&top<=_viewportHeight+_pageYOffset){
					return true;
				}
				return false
			}
		}
		function checkAvailable(){
			for(var i =0;i<that.elements.length;i++){
				var el = that.elements[i];
				if(checkIfInView(el)){
					that.loadEle(el);
					that.elements.splice(i,1)
				}
			}
		}

		var initialized = false;
		function scrollEventHandler(){
			if(!initialized){
				requestAnimationFrame(function update(){
					checkAvailable()
					requestAnimationFrame(update)
			})
			}
			initizalized = true;
		}
		$(document).on('scrollstart',function(){
			setPageYOffset()
			scrollEventHandler()
		})

		// window.addEventListener('load',function(){
		// 	setPageYOffset()
		// 	scrollEventHandler()
		// })
		window.addEventListener('resize',function(){
			setViewHeight()
		})

	}
	function goldSiverClick(img,imgWidth,host){
		img.addEventListener('click',function(e){
			var event = e?e:window.event;
			var x= event.clientX;
			var goldhtml ='http://'+ host + '/pf/wechat/design/gold.html';
			var silverhtml ='http://'+ host +'/pf/wechat/design/silver.html';
			if(x<imgWidth/2){
				window.location.replace(goldhtml)
			}else{
				window.location.replace(silverhtml)
			}
		})
	}

	function showWelcome(){
		var welcomePos = $('.bannerimg').height();
		var offsetPos ='-'+ welcomePos/100 *8 +'px';
		$('.welcome').css({
			top:offsetPos
		})
		$('.welcome').show();
	}	



	function initFun(){
		var screenheight=screen.height;
		var giftShow = false;
		var host = location.host; 
		var img = document.getElementById("goldsilver");
		var imgWidth=img.width;		
		window.addEventListener('resize',function(){
			 imgWidth = img.width;
		})		
		showWelcome()
		 // $("#snowzone").show()
		goldSiverClick(img,imgWidth,host)

	}

	function showDetailinit(){
		console.log('documentHeight ' + $(document).height);
		console.log('windowHeight ' + $(window).height());
		if($(window).scrollTop()+$(window).height()<$(document).height()){
			return false;
		}else{
			window.addEventListener('scroll',function(){
				console.log($(window).scrollTop());
			})
		}
		//if users scrolls to the bottom

			//if users scrolls-up to 

				//show detailpanel
	}


	  $(document).ready(function(){
	  		var giftShow,host,imgWidth;
	  		initFun();
	  		showDetailinit();
	  // 		var elements = Array.prototype.slice.call(document.getElementsByClassName('detail'));
			// var lazyload = new LazyLoad(elements);
			// lazyload.load()

		})

})
// ]]></script>
</p>